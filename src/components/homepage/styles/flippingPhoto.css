/* Flipping Photo Component Styles */

.photo-wrapper {
	perspective: 1200px;
	transform-origin: top center;
	position: relative;
}

/* String decoration */
.string {
	position: absolute;
	width: 1.5px;
	height: 30px;
	background: linear-gradient(to bottom, 
		rgba(80, 80, 80, 0.7) 0%,
		rgba(80, 80, 80, 0.5) 100%);
	top: -30px;
	left: 50%;
	transform: translateX(-0.75px);
	z-index: 10;
}

.string::before {
	content: '';
	position: absolute;
	width: 6px;
	height: 6px;
	background: radial-gradient(circle, #666 0%, #444 100%);
	border-radius: 50%;
	top: -3px;
	left: 50%;
	transform: translateX(-50%);
	box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

/* The photo card */
.photo-card {
	width: 100%;
	height: 240px;
	background: white;
	border-radius: 8px;
	padding: 12px;
	box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
	transform-style: preserve-3d;
	position: relative;
}

.photo-card img {
	width: calc(100% - 26px);
	height: calc(100% - 26px);
	object-fit: cover;
	object-position: center;
	border-radius: 4px;
	display: block;
	position: absolute;
	top: 13px;
	left: 13px;
	backface-visibility: hidden;
	aspect-ratio: 1 / 1;
}

.photo-card img:nth-child(2) {
	transform: rotateY(180deg);
}

/* Positioning for different photos */
.photo-1 {
	grid-column: 1;
	grid-row: 1;
	transform: translateX(-20px);
}

.photo-2 {
	grid-column: 2;
	grid-row: 1;
	transform: translateX(15px);
}

.photo-3 {
	grid-column: 1 / -1;
	grid-row: 2;
	justify-self: center;
	max-width: 50%;
	transform: translateX(-10px);
}

/* Apply pendulum animation to all photos */
.photo-1 {
	animation: pendulumSwing1 var(--pendulum-duration, 6s) ease-in-out infinite 0s;
	transform-origin: top center;
}

.photo-1 .photo-card {
	animation: occasionalFlip1 16s ease-in-out infinite var(--animation-delay, 0s);
}

.photo-2 {
	animation: pendulumSwing2 var(--pendulum-duration, 10s) ease-in-out infinite 2s;
	transform-origin: top center;
}

.photo-2 .photo-card {
	animation: occasionalFlip2 16s ease-in-out infinite var(--animation-delay, 4s);
}

.photo-3 {
	animation: pendulumSwing3 var(--pendulum-duration, 8s) ease-in-out infinite 1s;
	transform-origin: top center;
}

/* Carousel animations controlled by class */
.photo-3 .photo-card.flip-to-back {
	animation: flipToBack3 var(--animation-duration, 8s) ease-in-out forwards;
}

.photo-3 .photo-card.flip-to-front {
	animation: flipToFront3 var(--animation-duration, 8s) ease-in-out forwards;
}

/* Pendulum swing animations */
@keyframes pendulumSwing1 {
	0%, 100% {
		transform: translateX(-20px) rotate(-3deg);
	}
	50% {
		transform: translateX(-20px) rotate(3deg);
	}
}

@keyframes pendulumSwing2 {
	0%, 100% {
		transform: translateX(15px) rotate(-3deg);
	}
	50% {
		transform: translateX(15px) rotate(3deg);
	}
}

@keyframes pendulumSwing3 {
	0%, 100% {
		transform: translateX(-10px) rotate(-3deg);
	}
	50% {
		transform: translateX(-10px) rotate(3deg);
	}
}

/* Flip animations - shows back of card, then returns */
@keyframes occasionalFlip1 {
	0%, 100% {
		transform: rotateY(0deg);
	}
	20% {
		transform: rotateY(180deg);
	}
	50% {
		transform: rotateY(180deg);
	}
	70% {
		transform: rotateY(0deg);
	}
}

@keyframes occasionalFlip2 {
	0%, 100% {
		transform: rotateY(0deg);
	}
	25% {
		transform: rotateY(180deg);
	}
	50% {
		transform: rotateY(180deg);
	}
	75% {
		transform: rotateY(0deg);
	}
}

/* Split carousel animations for photo 3 */
@keyframes flipToBack3 {
	0% {
		transform: rotateY(0deg);
	}
	50% {
		transform: rotateY(180deg);
	}
	100% {
		transform: rotateY(180deg);
	}
}

@keyframes flipToFront3 {
	0% {
		transform: rotateY(180deg);
	}
	50% {
		transform: rotateY(0deg);
	}
	100% {
		transform: rotateY(0deg);
	}
}

/* Hover effects */
.photo-wrapper:hover .photo-card {
	animation-play-state: paused;
	transform: scale(1.05) translateY(-5px);
	box-shadow: 0 12px 35px rgba(0, 0, 0, 0.25);
}

.photo-wrapper:hover .string {
	background: linear-gradient(to bottom, 
		rgba(100, 100, 100, 0.8) 0%,
		rgba(100, 100, 100, 0.6) 100%);
}

/* Responsive adjustments */
@media (max-width: 1024px) {
	.photo-3 {
		max-width: 70%;
	}
}
